<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="./assets/images/favicon-32x32.png"
        />
        <link href="./style.css" rel="stylesheet" />
        <title>Typing Speed Test</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Roboto+Mono&display=swap"
            rel="stylesheet"
        />
    </head>

    <body
        class="min-h-screen flex flex-col items-center p-4 md:p-8 bg-brand-bg text-brand-primary"
    >
        <div class="max-w-4xl w-full flex flex-col gap-4 md:gap-8">
            <header class="flex justify-between items-start mb-4 md:mb-8">
                <div class="flex items-center gap-3">
                    <img 
                        src="assets/images/logo-small.svg" 
                        alt="Typing Speed Test" 
                        class="w-8 h-8 md:w-10 md:h-10"
                    />
                    <div>
                        <h1 class="text-xl md:text-2xl font-bold text-brand-text leading-tight">
                            Typing Speed Test
                        </h1>
                        <p class="text-[10px] md:text-xs text-brand-primary hidden md:block">
                            Type as fast as you can in 60 seconds
                        </p>
                    </div>
                </div>
                <div class="flex items-center gap-2 text-sm md:text-base mt-1">
                    <img src="assets/images/icon-personal-best.svg" alt="PB" class="w-5 h-5 md:w-6 md:h-6">
                    <span class="text-brand-primary">Personal best:</span>
                    <span id="personal-best" class="text-brand-text font-bold"
                        >0 WPM</span
                    >
                </div>
            </header>

            <div
                class="flex items-center justify-between md:justify-start md:gap-8 py-4 md:py-6 border-y border-brand-primary/10"
            >
                <div class="flex items-center gap-4 md:gap-8 flex-1 md:flex-none">
                    <div class="flex flex-col md:flex-row items-center gap-1 md:gap-2">
                        <span class="stat-label-inline uppercase text-[10px] md:text-sm">WPM:</span>
                        <span id="wpm" class="stat-value-inline text-brand-text text-lg md:text-xl">0</span>
                    </div>

                    <span class="divider md:text-xl">|</span>

                    <div class="flex flex-col md:flex-row items-center gap-1 md:gap-2">
                        <span class="stat-label-inline uppercase text-[10px] md:text-sm">Accuracy:</span>
                        <span id="accuracy" class="stat-value-inline text-red-500 text-lg md:text-xl">0%</span>
                    </div>

                    <span class="divider md:text-xl">|</span>

                    <div class="flex flex-col md:flex-row items-center gap-1 md:gap-2">
                        <span class="stat-label-inline uppercase text-[10px] md:text-sm">Time:</span>
                        <span id="time" class="stat-value-inline text-yellow-500 text-lg md:text-xl">0:00</span>
                    </div>
                </div>

                <div class="grow hidden md:block"></div>

                <!-- Desktop Controls (Inline) -->
                <div class="hidden md:flex items-center gap-8">
                    <div class="flex items-center gap-3">
                        <span class="text-xs text-brand-primary font-bold uppercase tracking-wider opacity-60">Difficulty:</span>
                        <div class="flex gap-1">
                            <button class="diff-btn control-btn" data-diff="easy">Easy</button>
                            <button class="diff-btn control-btn" data-diff="medium">Medium</button>
                            <button class="diff-btn control-btn active" data-diff="hard">Hard</button>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="text-xs text-brand-primary font-bold uppercase tracking-wider opacity-60">Mode:</span>
                        <div class="flex gap-1">
                            <button class="mode-btn control-btn active" data-mode="timed">Timed (60s)</button>
                            <button class="mode-btn control-btn" data-mode="passage">Passage</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Mobile Controls (Dropdowns) -->
            <div class="flex md:hidden flex-wrap items-center gap-3 relative z-60">
                <div class="relative group flex-1">
                    <button class="w-full flex items-center justify-between gap-2 px-4 py-2 text-sm rounded-lg border border-brand-primary/20 bg-brand-primary/5 text-brand-text font-bold">
                        <span id="current-difficulty">Hard</span>
                        <img src="assets/images/icon-down-arrow.svg" alt="v" class="w-3 h-3 opacity-50">
                    </button>
                    <div class="absolute top-full left-0 mt-1 w-full bg-brand-bg border border-brand-primary/20 rounded-lg shadow-xl hidden group-focus-within:block z-[70]">
                        <button class="diff-btn w-full text-left px-4 py-2 text-sm hover:bg-brand-primary/10 text-brand-text" data-diff="easy">Easy</button>
                        <button class="diff-btn w-full text-left px-4 py-2 text-sm hover:bg-brand-primary/10 text-brand-text" data-diff="medium">Medium</button>
                        <button class="diff-btn w-full text-left px-4 py-2 text-sm hover:bg-brand-primary/10 text-brand-text active" data-diff="hard">Hard</button>
                    </div>
                </div>

                <div class="relative group flex-1">
                    <button class="w-full flex items-center justify-between gap-2 px-4 py-2 text-sm rounded-lg border border-brand-primary/20 bg-brand-primary/5 text-brand-text font-bold">
                        <span id="current-mode">Timed (60s)</span>
                        <img src="assets/images/icon-down-arrow.svg" alt="v" class="w-3 h-3 opacity-50">
                    </button>
                    <div class="absolute top-full left-0 mt-1 w-full bg-brand-bg border border-brand-primary/20 rounded-lg shadow-xl hidden group-focus-within:block z-[70]">
                        <button class="mode-btn w-full text-left px-4 py-2 text-sm hover:bg-brand-primary/10 text-brand-text active" data-mode="timed">Timed (60s)</button>
                        <button class="mode-btn w-full text-left px-4 py-2 text-sm hover:bg-brand-primary/10 text-brand-text" data-mode="passage">Passage</button>
                    </div>
                </div>
            </div>

            <div id="typing-container" class="relative min-h-64 cursor-text flex items-center justify-center">
                <div id="cursor" class="cursor hidden"></div>
                <div
                    id="typing-area"
                    class="typing-area font-mono text-brand-primary transition-opacity duration-300 text-xl md:text-3xl"
                ></div>
                <div
                    id="start-overlay"
                    class="absolute inset-0 flex flex-col items-center justify-center bg-brand-bg/80 backdrop-blur-sm transition-opacity duration-300 z-10"
                >
                    <button id="start-btn" class="mb-4 px-8 py-4 bg-brand-accent hover:bg-brand-accent/90 text-white font-bold rounded-xl shadow-lg shadow-brand-accent/20 transition-all active:scale-95 text-lg">
                        Start Typing Test
                    </button>
                    <p class="text-brand-text text-sm md:text-lg">
                        Or click the text and start typing
                    </p>
                </div>
            </div>

            <div
                id="focus-error"
                class="flex items-center justify-center gap-2 text-brand-text animate-pulse"
            >
                <span>Click to refocus</span>
            </div>

            <div
                class="flex justify-center border-t border-brand-primary/10 pt-12 mt-auto"
            >
                <button
                    id="restart-btn"
                    class="flex items-center gap-2 px-6 py-2 bg-[#2c2e31] hover:bg-[#3a3c40] text-brand-text rounded-lg transition-all font-medium group text-sm"
                >
                    <span>Restart Test</span>
                    <img
                        src="assets/images/icon-restart.svg"
                        alt="Restart"
                        class="w-4 h-4 group-hover:rotate-180 transition-transform duration-300 opacity-60"
                    />
                </button>
            </div>
        </div>

        <div
            id="results-modal"
            class="fixed inset-0 flex items-center justify-center bg-brand-bg/95 backdrop-blur-md z-50 p-4"
        >
            <div
                class="max-w-md w-full p-6 md:p-8 bg-black/30 rounded-3xl border border-brand-primary/20 shadow-2xl flex flex-col items-center gap-4 md:gap-6 text-center transform scale-90 transition-transform duration-300"
                id="results-content"
            >
                <div class="relative">
                    <div class="w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center">
                        <div class="w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg shadow-green-500/40">
                            <img src="assets/images/icon-completed.svg" alt="Completed" class="w-8 h-8 brightness-0 invert">
                        </div>
                    </div>
                    <img src="assets/images/pattern-star-1.svg" class="absolute -top-2 -left-2 w-6 h-6 text-red-500">
                    <img src="assets/images/pattern-star-2.svg" class="absolute -bottom-2 -right-2 w-6 h-6 text-yellow-500">
                </div>

                <div>
                    <h2 class="text-2xl md:text-3xl font-bold text-brand-text mb-2">
                        Test Complete!
                    </h2>
                    <p class="text-brand-primary text-sm md:text-base">
                        Solid run. Keep pushing to beat your high score.
                    </p>
                </div>

                <div class="w-full flex flex-col gap-3 md:gap-4 py-2">
                    <div class="bg-brand-primary/5 p-4 rounded-2xl border border-brand-primary/10 flex flex-col items-start gap-1">
                        <div class="text-[10px] md:text-xs text-brand-primary uppercase font-bold tracking-widest">
                            WPM:
                        </div>
                        <div id="result-wpm" class="text-2xl md:text-3xl font-black text-brand-text">
                            0
                        </div>
                    </div>
                    <div class="bg-brand-primary/5 p-4 rounded-2xl border border-brand-primary/10 flex flex-col items-start gap-1">
                        <div class="text-[10px] md:text-xs text-brand-primary uppercase font-bold tracking-widest">
                            Accuracy:
                        </div>
                        <div id="result-accuracy" class="text-2xl md:text-3xl font-black text-red-500">
                            0%
                        </div>
                    </div>
                    <div class="bg-brand-primary/5 p-4 rounded-2xl border border-brand-primary/10 flex flex-col items-start gap-1">
                        <div class="text-[10px] md:text-xs text-brand-primary uppercase font-bold tracking-widest">
                            Characters:
                        </div>
                        <div id="result-characters" class="text-2xl md:text-3xl font-black text-green-500">
                            <span id="result-typed">0</span><span class="text-brand-primary/30 mx-1">/</span><span id="result-errors" class="text-red-500">0</span>
                        </div>
                    </div>
                    <div
                        id="result-pb-badge"
                        class="bg-yellow-500/10 p-4 rounded-2xl border border-yellow-500/20 hidden"
                    >
                        <div class="text-yellow-500 font-bold flex items-center justify-center gap-2">
                            <img src="assets/images/icon-new-pb.svg" class="w-5 h-5">
                            <span>New Personal Best!</span>
                        </div>
                    </div>
                </div>

                <div class="w-full flex flex-col gap-3">
                    <button
                        id="modal-restart-btn"
                        class="w-full py-4 bg-white text-brand-bg font-black rounded-2xl transition-all shadow-xl active:scale-95 flex items-center justify-center gap-2"
                    >
                        <span>Go Again</span>
                        <img src="assets/images/icon-restart.svg" alt="restart" class="w-5 h-5 brightness-0">
                    </button>
                    <p class="text-[10px] text-brand-primary hidden md:block">
                        Press <kbd class="px-2 py-1 bg-brand-primary/20 rounded">Esc</kbd> or <kbd class="px-2 py-1 bg-brand-primary/20 rounded">Tab</kbd> to restart
                    </p>
                </div>
            </div>
        </div>

        <footer class="mt-12 text-xs text-brand-primary opacity-50">
            Challenge by
            <a
                href="https://www.frontendmentor.io?ref=challenge"
                target="_blank"
                class="underline"
                >Frontend Mentor</a
            >. Coded by
            <a href="https://zainokta.com" class="underline">Zainokta</a>.
        </footer>

        <script src="./data.js"></script>
        <script src="./script.js"></script>
    </body>
</html>
